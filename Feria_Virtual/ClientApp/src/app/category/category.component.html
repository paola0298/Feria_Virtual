<head>
    <title>Gestion de Categorias</title>
    <meta charset="utf-8">
</head>

<body>
    <div>
        <h2>Gestion de Categorias</h2>
        <form>
            <div class="row">
                <div class="form-group col">
                    <label for="idCategory">Identificador:</label>
                    <input type="text" class="form-control" id="idCategory" name="idCategory">
                </div>
                <div class="form-group col">
                    <label for="nameCategory">Nombre:</label>
                    <input type="text" class="form-control" id="nameCategory" name="nameCategory">
                </div>
            </div>
            <div class="row md-form">
                <button type="submit" class="btn btn-outline-success" data-toggle="modal"
                        data-target="#saveMsj" (click)="saveCategory()">
                  Guardar
                </button>
                
              </div>
        </form>
        <div class="margin-div">
            <h2>Categorias registradas</h2>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th class="text-center align-middle" scope="col">Identificador</th>
                        <th class="text-center align-middle" scope="col">Nombre</th>
                    </tr>
                </thead>
                <tbody *ngFor="let category of categories; let i = index;">
                    <tr>
                        <td (contextmenu)="onCategoryClick($event, category)" class="text-center align-middle">{{ category.id }}</td>
                        <td (contextmenu)="onCategoryClick($event, category)" class="text-center align-middle">{{ category.name }}</td>
                    </tr>
                </tbody>
            </table>
            <div class="dropdown-menu" aria-labelledby="tableMenu" id="context-menu">
                <a class="dropdown-item btn btn-default" (click)="updateCategory()">Actualizar</a>  <!--Obtener el id del productor-->
                <a class="dropdown-item btn" (click)="askUser()">Eliminar</a> <!--Obtener el id del productor-->
            </div>
        </div>

        <!--Modal to open when error-->
    <div class="modal fade" id="saveMsj" tabindex="-1" role="dialog" aria-labelledby="saveMsjLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
              <h4 class="modal-title" id="saveMsjLabel"></h4> <!--El texto se coloca en script-->
            </div>
            <div class="modal-body">
              <a class="custom-close" id="msjText"></a>  <!--El texto se coloca en script-->
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-info" data-dismiss="modal" (click)="closeModal('saveMsj')">Cerrar</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
      
      <!--Modal to open when option is needed-->
      <div class="modal fade" id="optionMsj" tabindex="-1" role="dialog" aria-labelledby="optionMsjLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
              <h4 class="modal-title" id="optionMsjLabel"></h4> <!--El texto se coloca en script-->
            </div>
            <div class="modal-body">
              <a class="custom-close" id="optionText"></a>  <!--El texto se coloca en script-->
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-info" data-dismiss="modal" (click)="deleteCategory()">Si</button>
              <button type="button" class="btn btn-info" data-dismiss="modal" (click)="closeModal('optionMsj')">No</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
    </div>
</body>
